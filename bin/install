#!/usr/bin/env sh

set -e

has_bazel=`which bazel | sed -e 's/^[[:space:]]*//'`
if [ -z "$has_bazel" ]; then
  echo "[INFO] Installing Bazel \n"

  # Installing bazel
  #   - if this fails you may need to xcode-select --install
  brew install bazel && \
  bazel --version && \
  # Installing graphviz to view bazel build graph
  # See: https://graphviz.org/doc/info/command.html
  brew install graphviz && \
  # Installing ibazel for file watching and restarting
  brew tap bazelbuild/tap && \
  brew install bazelbuild/tap/ibazel
fi
